/* =========================
   FinanceCenter.css — v3 (3D/Polido/Alinhado)
   - Classes originais preservadas
   - Botões largos e 3D
   - Cabeçalhos alinhados com linhas (Status/Breakdown/Summary)
   - Responsivo + Dark mode
   ========================= */

/* ---------- Tokens ---------- */
:root{
  /* Brand */
  --brand-300: #b9e3ff;
  --brand-400: #90D5FF;
  --brand-500: #5BA7F7;
  --brand-600: #2D8BEF;
  --brand-700: #1f6fd4;

  /* Surface & Borders */
  --bg-app: #F6F9FF;
  --bg-card: #FFFFFF;
  --bg-muted: #F1F5F9;
  --border: #E2E8F0;

  /* Text */
  --text-strong: #0F172A;
  --text: #334155;
  --text-muted: #64748B;

  /* Elevation */
  --shadow-xs: 0 1px 3px rgba(2,8,23,.08);
  --shadow-sm: 0 3px 10px rgba(2,8,23,.10);
  --shadow-md: 0 10px 28px rgba(45,139,239,.22);
  --shadow-lg: 0 18px 50px rgba(45,139,239,.28);
  --shadow-card: 0 10px 30px rgba(2,8,23,.08);

  /* Radii & Spacing */
  --r-sm: 8px;
  --r-md: 12px;
  --r-lg: 16px;
  --r-xl: 999px;

  /* Sizing */
  --fs-xs: 11px;
  --fs-sm: 12px;
  --fs-md: 13px;
  --fs-lg: 16px;
  --fs-xl: 22px;

  /* Focus */
  --focus: 0 0 0 3px rgba(45,139,239,.28);

  /* Gaps */
  --gap-cols: 12px;
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root{
    --bg-app: #0B1220;
    --bg-card: #0f172a;
    --bg-muted: #0b1220;
    --border: #243244;

    --text-strong: #E6EEF8;
    --text: #CFDAE8;
    --text-muted: #9FB3C8;

    --shadow-xs: 0 1px 3px rgba(0,0,0,.35);
    --shadow-sm: 0 3px 12px rgba(0,0,0,.45);
    --shadow-card: 0 14px 40px rgba(0,0,0,.55);
    --shadow-md: 0 16px 44px rgba(45,139,239,.35);
    --shadow-lg: 0 28px 70px rgba(45,139,239,.45);
  }
}

/* Menos movimento */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms!important; animation-iteration-count:1!important; transition-duration:.01ms!important; scroll-behavior:auto!important; }
}

/* ---------- Página ---------- */
.finance-page{
  display:flex; flex-direction:column; gap:22px;
  padding: 10px;
  background:
    radial-gradient(1200px 600px at 0% -10%, rgba(45,139,239,.10), transparent 60%),
    radial-gradient(1000px 500px at 100% -10%, rgba(16,185,129,.08), transparent 60%),
    var(--bg-app);
}

/* ---------- Tabs ---------- */
.fin-tabs{ display:flex; gap:10px; flex-wrap:wrap; }

.fin-tab{
  display:inline-flex; align-items:center; justify-content:center; gap:9px;
  padding:12px 16px; min-width:180px;
  border-radius:var(--r-md);
  font-weight:800; font-size:var(--fs-sm);
  color:var(--text); cursor:pointer; user-select:none;
  background:
    linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75)),
    linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,0));
  border:1px solid var(--border);
  box-shadow: var(--shadow-sm);
  transition: transform .14s ease, box-shadow .14s ease, background .14s ease, color .14s ease, border-color .14s ease;
  line-height:1; backdrop-filter: blur(8px);
}
.fin-tab:hover{ transform: translateY(-2px); box-shadow: var(--shadow-card); }
.fin-tab:active{ transform: translateY(0); box-shadow: var(--shadow-sm) inset; }
.fin-tab:focus-visible{ outline:none; box-shadow: var(--shadow-card), var(--focus); }
.fin-tab.active{
  color:#fff; border-color: transparent;
  background:
    linear-gradient(180deg, var(--brand-400), var(--brand-600)),
    radial-gradient(300px 140px at 50% 0%, rgba(255,255,255,.35), transparent 60%);
  box-shadow: var(--shadow-md);
}

/* ---------- Títulos/Seções ---------- */
.fin-section{ display:flex; flex-direction:column; gap:12px; }
.fin-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:2px 4px; }
.fin-head h3{ display:flex; align-items:center; gap:10px; font-size:var(--fs-xl); margin:0; color:var(--text-strong); text-shadow:0 1px 0 rgba(255,255,255,.6); }

/* ---------- Ações ---------- */
.fin-actions{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.fin-inline{ display:flex; align-items:center; gap:10px; }
.fin-inline > span{ font-size:var(--fs-sm); color:var(--text-muted); font-weight:800; }

.fin-inline input[type="month"],
.fin-inline input[type="date"],
.fin-inline select{
  padding:10px 12px; border:1px solid var(--border); border-radius:var(--r-sm);
  font-size:var(--fs-md); background:var(--bg-card); color:var(--text-strong);
  box-shadow: var(--shadow-xs) inset, 0 1px 0 #fff;
  transition: box-shadow .14s ease, border-color .14s ease, transform .14s ease;
}
.fin-inline input:focus-visible,
.fin-inline select:focus-visible{ outline:none; border-color:var(--brand-400); box-shadow:var(--focus), var(--shadow-xs) inset; }

/* ---------- Chips ---------- */
.wk-chip,.wk-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 12px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.7));
  color:var(--text); border-radius:var(--r-xl);
  font-weight:900; font-size:var(--fs-xs);
  box-shadow: var(--shadow-xs);
}

/* ---------- Cards ---------- */
.fin-card{
  background:
    radial-gradient(800px 300px at 0% -40%, rgba(144,213,255,.35), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.86));
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  padding:16px;
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(6px);
  transition: box-shadow .18s ease, transform .18s ease, border-color .18s ease;
}
.fin-card:hover{ transform: translateY(-2px); box-shadow: var(--shadow-lg); border-color: color-mix(in srgb, var(--border) 70%, var(--brand-400) 30%); }

/* ---------- Empty ---------- */
.fin-empty{
  background:linear-gradient(180deg, var(--bg-muted), color-mix(in srgb, var(--bg-muted) 88%, #fff 12%));
  border:1px dashed var(--border);
  border-radius:var(--r-lg); padding:20px; color:var(--text-muted); text-align:center;
  box-shadow: var(--shadow-xs) inset;
}

/* ---------- Tags ---------- */
.tag{
  padding:5px 10px; border-radius:var(--r-xl);
  font-size:var(--fs-xs); font-weight:900; text-transform:uppercase;
  background:var(--bg-muted); color:var(--text);
  border:1px solid var(--border); box-shadow: var(--shadow-xs);
}
.tag--approved{ background:linear-gradient(180deg, rgba(59,130,246,.16), rgba(59,130,246,.10)); color:#1d4ed8; border-color: rgba(59,130,246,.25); }
.tag--paid{ background:linear-gradient(180deg, rgba(34,197,94,.16), rgba(34,197,94,.10)); color:#059669; border-color: rgba(34,197,94,.28); }
.tag--shared{ background:linear-gradient(180deg, rgba(234,179,8,.18), rgba(234,179,8,.12)); color:#a16207; border-color: rgba(234,179,8,.28); }

/* ---------- Botões (3D e largos) ---------- */
.pg-btn,
.table .td .pg-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 18px; min-width:140px;
  border-radius:var(--r-sm);
  border:1px solid color-mix(in srgb, var(--brand-400) 80%, #fff 20%);
  color:#fff; font-weight:800; font-size:var(--fs-sm); cursor:pointer;
  line-height:1;
  background:
    linear-gradient(180deg, var(--brand-400), var(--brand-600)),
    radial-gradient(60% 100% at 50% 0%, rgba(255,255,255,.35), transparent 60%);
  box-shadow:
    0 2px 0 rgba(0,0,0,.06),
    0 10px 18px rgba(45,139,239,.28),
    inset 0 1px 0 rgba(255,255,255,.35);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.pg-btn:hover{ transform: translateY(-1px); box-shadow: 0 2px 0 rgba(0,0,0,.06), 0 14px 26px rgba(45,139,239,.36), inset 0 1px 0 rgba(255,255,255,.4); filter:saturate(1.05); }
.pg-btn:active{ transform: translateY(1px); box-shadow: inset 0 2px 6px rgba(0,0,0,.25); }
.pg-btn:focus-visible{ outline:none; box-shadow: var(--focus), 0 10px 18px rgba(45,139,239,.28); }
.pg-btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; box-shadow: var(--shadow-xs) inset; }
.pg-btn--outline{ color:var(--brand-700); background:linear-gradient(180deg,#fff,#F6FBFF); border-color:var(--brand-300); box-shadow:var(--shadow-sm); }

/* ---------- Tabelas: container + base ---------- */
.table{
  width:100%;
  display:block;             /* container rolável */
  overflow-x:auto;           /* scroll horizontal quando apertar */
  border-radius: var(--r-lg);
  background: var(--bg-card);
  box-shadow: var(--shadow-xs);
}
.table .thead{
  position: sticky; top: 0; z-index: 2;
  background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.85));
  font-weight:900; color:var(--text);
  backdrop-filter: blur(6px);
  box-shadow: 0 1px 0 var(--border), 0 10px 24px rgba(2,8,23,.05);
}
.th,.td{
  padding:12px 12px;
  font-size:var(--fs-md);
  color:var(--text-strong);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; min-width:0;
}
.right{ text-align:right; }
.center{ text-align:center; }

/* Alinhamento vertical estável */
.table .thead,.table .tr{ align-items:center; }
.table .thead .th{ height:44px; display:flex; align-items:center; }
.table .tr .td{ display:flex; align-items:center; min-height:44px; }

/* ===== Grades por tipo (header = linhas SEMPRE) ===== */

/* 1) Status — 6 colunas */
.fin-card > .table > .thead,
.fin-card > .table > .tr{
  display:grid;
  grid-template-columns:
    minmax(220px, 1.1fr)   /* Partner */
    minmax(240px, 1.3fr)   /* Week/Period */
    120px                  /* # Services */
    160px                  /* Total */
    140px                  /* Status */
    160px;                 /* Breakdown */
  column-gap: var(--gap-cols);
  border-bottom:1px solid var(--border);
}

/* 2) Breakdown — 8 colunas */
.fin-break{ width:100%; }
.fin-break .table{ width:100%; display:block; overflow-x:auto; }

.fin-break .table > .thead,
.fin-break .table > .tr{
  display:grid;
  grid-template-columns:
    minmax(220px, 1fr)   /* Client  */
    minmax(130px, .8fr)  /* Date    */
    minmax(200px, 1fr)   /* Service */
    minmax(160px, .9fr)  /* Park    */
    120px                /* Team    */
    120px                /* Guests  */
    120px                /* Hopper  */
    160px;               /* Amount  */
  column-gap: var(--gap-cols);
  border-bottom:1px solid var(--border);
}
/* Client/Service podem quebrar em 2 linhas sem empurrar colunas */
.fin-break .tr .td:nth-child(1),
.fin-break .tr .td:nth-child(3){ white-space: normal; line-height:1.25; }

/* 3) Summary — 3 colunas */
.table.table--summary > .thead,
.table.table--summary > .tr{
  display:grid;
  grid-template-columns:
    minmax(260px, 1.2fr)  /* Client */
    180px                 /* Total */
    180px;                /* Breakdown btn */
  column-gap: var(--gap-cols);
  border-bottom:1px solid var(--border);
}

/* Zebra & hover */
.table .tr:nth-child(even){ background: color-mix(in srgb, var(--bg-card) 92%, var(--text) 8%); }
@media (prefers-color-scheme: dark){ .table .tr:nth-child(even){ background: rgba(255,255,255,.04); } }
.table .tr{ transition: background .12s ease, transform .08s ease, box-shadow .12s ease; }
.table .tr:hover{
  background: color-mix(in srgb, var(--bg-card) 85%, var(--brand-300) 15%);
  transform: translateY(-1px);
  box-shadow: 0 1px 0 rgba(255,255,255,.6) inset, 0 8px 18px rgba(2,8,23,.06);
}

/* ---------- Paginação ---------- */
.fin-pager{ display:flex; align-items:center; gap:10px; justify-content:flex-end; margin-top:14px; }
.pg-ind{ font-size:var(--fs-sm); color:var(--text-muted); }

/* ---------- Responsivo ---------- */
@media (max-width: 980px){
  .pg-btn, .table .td .pg-btn{ min-width:130px; }
  .fin-card > .table > .thead,
  .fin-card > .table > .tr{
    grid-template-columns: 1fr 1.1fr 110px 140px 130px 150px;
  }
  .fin-break .table > .thead,
  .fin-break .table > .tr{
    grid-template-columns:
      minmax(200px, 1fr)
      minmax(115px, .8fr)
      minmax(180px, 1fr)
      minmax(140px, .9fr)
      110px 110px 110px 150px;
  }
  .table.table--summary > .thead,
  .table.table--summary > .tr{
    grid-template-columns: minmax(220px, 1fr) 160px 170px;
  }
}
@media (max-width: 720px){
  .fin-card > .table > .thead,
  .fin-card > .table > .tr{
    grid-template-columns: 1fr 1fr 100px 130px 120px 150px;
  }
  .fin-break .table > .thead,
  .fin-break .table > .tr{
    grid-template-columns:
      minmax(180px, 1fr)
      minmax(105px, .8fr)
      minmax(170px, 1fr)
      minmax(130px, .9fr)
      100px 100px 100px 140px;
  }
}

/* ---------- Print ---------- */
@media print{
  .finance-page{ background:#fff; }
  .fin-tab, .fin-actions, .fin-pager{ display:none !important; }
  .fin-card{ box-shadow:none; border-color:#AAA; background:#fff; }
  .table .thead{ position: static; backdrop-filter:none; }
  .table .tr:nth-child(even){ background:#fff; }
}

/* ---------- Scrollbar ---------- */
.table::-webkit-scrollbar,
.fin-break .table::-webkit-scrollbar{ height:10px; }
.table::-webkit-scrollbar-thumb,
.fin-break .table::-webkit-scrollbar-thumb{
  background:#cbd5e1; border-radius:999px; border:2px solid #f8fafc;
}
.table::-webkit-scrollbar-track,
.fin-break .table::-webkit-scrollbar-track{
  background:#eef2f7; border-radius:999px;
}
