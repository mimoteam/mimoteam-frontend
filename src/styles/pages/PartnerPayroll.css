/* =========================================================
   Partner Payroll (escopo .finance-payroll) — FIX BREAKDOWN
   ========================================================= */
.finance-payroll{
  /* mapa único de colunas do breakdown (8 colunas) */
  --break-cols:
    minmax(180px,1.2fr)  /* Client */
    minmax(120px,.8fr)   /* Date   */
    minmax(160px,1fr)    /* Service*/
    minmax(120px,.9fr)   /* Park   */
    minmax(90px,.6fr)    /* Team   */
    minmax(90px,.6fr)    /* Guests */
    minmax(90px,.6fr)    /* Hopper */
    minmax(110px,.7fr);  /* Amount */

  display:grid;
  gap:14px;
  padding-bottom:8px;
  color: var(--ink, #1E293B);
  background:
    radial-gradient(1200px 400px at -10% -40%, rgba(144,213,255,.18), transparent 60%),
    radial-gradient(1000px 380px at 110% -30%, rgba(45,139,239,.10), transparent 60%),
    linear-gradient(180deg,#FAFBFF 0%, var(--bg, #F5F6FA) 100%);
}

/* cabeçalhos/seções */
.finance-payroll .fin-section{ display:grid; gap:10px; }
.finance-payroll .fin-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.finance-payroll .fin-head h3{
  margin:0; font-size:1.125rem; font-weight:900; letter-spacing:.2px;
  background: linear-gradient(90deg, var(--brand-700,#1E6ECB), var(--brand-400,#90D5FF));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.finance-payroll .muted{ color: var(--muted,#64748B); font-weight:700; }

/* filtros topo */
.finance-payroll .fin-actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.finance-payroll .fin-inline{ display:inline-flex; align-items:center; gap:10px; color:var(--muted,#64748B); }
.finance-payroll .fin-inline input[type="month"]{
  appearance:none; border:1px solid var(--line,#E2E8F0); background:#fff; color:var(--ink,#1E293B);
  border-radius:12px; padding:8px 10px; font:inherit;
}
.finance-payroll .fin-inline input[type="month"]:focus{
  outline:none; border-color:var(--brand-500,#5BA7F7); box-shadow:0 0 0 3px rgba(144,213,255,.45);
}

/* card base */
.finance-payroll .fin-card{
  position:relative;
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.92));
  border:1px solid var(--line,#E2E8F0);
  border-radius:20px;
  padding:14px;
  box-shadow:0 10px 24px rgba(15,23,42,.08);
}
.finance-payroll .fin-empty{ padding:14px; color:var(--muted,#64748B); }
.finance-payroll .wk-chip{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid var(--line,#E2E8F0); background:#fff; border-radius:999px;
  padding:6px 10px; font-size:.8125rem; color:#334155;
  box-shadow:0 2px 10px rgba(15,23,42,.06);
}

/* ===== tabela/lista do SectionStatus ===== */
.finance-payroll .table{ display:grid; gap:8px; }

.finance-payroll .table .thead{
  display:grid;
  /* Partner | Week | Services | Total | Status | Breakdown | Actions */
  grid-template-columns: 1.2fr 1.2fr .6fr .6fr .6fr .6fr .8fr;
  align-items:center;
  font-weight:700; color:var(--muted,#64748B);
  border-bottom:1px dashed var(--line,#E2E8F0); padding-bottom:6px;
}
.finance-payroll .table .th{ padding:4px 6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.finance-payroll .table .th.right{ text-align:right; }
.finance-payroll .table .th.center{ text-align:center; }

.finance-payroll .table .tr{
  display:grid;
  grid-template-columns: 1.2fr 1.2fr .6fr .6fr .6fr .6fr .8fr;
  align-items:center;
  background:#fff;
  border:1px solid var(--line,#E2E8F0);
  border-radius:14px; padding:10px 12px;
  box-shadow: 0 2px 8px rgba(2,8,23,.04);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.finance-payroll .table .tr:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(2,8,23,.10);
  border-color: rgba(2,8,23,.08);
}

.finance-payroll .td{ padding:4px 6px; color: var(--ink,#1E293B); min-width:0; }
.finance-payroll .td.right{ text-align:right; }
.finance-payroll .td.center{ text-align:center; }
.finance-payroll .td b{ color: var(--brand-700,#1E6ECB); }

/* botão “Details” (o seu é .btn .btn--outline .btn--sm) */
.finance-payroll .td .btn.btn--outline.btn--sm{
  display:inline-flex; align-items:center; gap:8px;
  border-radius:10px; padding:8px 12px;
  box-shadow:0 2px 8px rgba(2,8,23,.08);
  font-weight:800;
}
.finance-payroll .td .btn.btn--outline.btn--sm:hover{
  transform: translateY(-1px); box-shadow:0 10px 24px rgba(2,8,23,.12);
}

/* coluna expandida ocupa a linha toda e não é cortada */
.finance-payroll .td.td-expand{
  grid-column: 1 / -1;
  padding-top:0;
  overflow: visible;
}

/* carimbo “Paid at” */
.finance-payroll .paid-at{ font-size:12px; color:#64748B; margin-top:4px; }

/* tags de status */
.finance-payroll .tag{ display:inline-block; padding:6px 10px; border-radius:999px; font-weight:800; font-size:.8125rem; }
.finance-payroll .tag--approved{ background:#E6F9F1; color:#047857; }
.finance-payroll .tag--shared{   background:#EEF6FF; color:#1D4ED8; }
.finance-payroll .tag--paid{     background:#F1F5F9; color:#0F172A; }

/* paginação */
.finance-payroll .pagination-wrap{ margin-top:8px; }
.finance-payroll .pagination-controls .btn.btn--outline.btn--sm{
  background:#fff; color:var(--brand-600,#2D8BEF);
  border:1px solid var(--brand-400,#90D5FF);
  border-radius:8px; padding:6px 10px; font-weight:700;
}
.finance-payroll .pagination-controls .btn.btn--outline.btn--sm:hover{
  background:#F0F7FF; border-color:var(--brand-500,#5BA7F7); color:var(--brand-700,#1E6ECB);
  transform: translateY(-1px);
}

/* =========================================================
   🔧 BREAKDOWN — ocupa 100% e usa UM ÚNICO grid (var --break-cols)
   ========================================================= */
.finance-payroll .td.td-expand > .fin-break{
  display:block;
  width:100%;
  max-width:100%;
  margin-top:10px;
  box-sizing:border-box;
}

/* tabela interna do breakdown */
.finance-payroll .td.td-expand > .fin-break > .table{
  display:grid;
  width:100% !important;
  max-width:100%;
  gap:8px;
  grid-auto-flow:row;
  min-width:0 !important; /* ignora qualquer min-width herdado de resets globais */
}

/* header + linhas do breakdown compartilham as MESMAS colunas */
.finance-payroll .td.td-expand > .fin-break > .table > .thead,
.finance-payroll .td.td-expand > .fin-break > .table > .tr{
  display:grid;
  grid-template-columns: var(--break-cols);
  column-gap:10px;
  align-items:center;
}

/* células do breakdown podem encolher e ter ellipsis */
.finance-payroll .td.td-expand > .fin-break > .table :is(.th,.td){
  min-width:0 !important;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* linha de total do breakdown */
.finance-payroll .td.td-expand > .fin-break > .table .tr.total .td.blank{ grid-column:1 / 7; }
.finance-payroll .td.td-expand > .fin-break > .table .tr.total .td.label,
.finance-payroll .td.td-expand > .fin-break > .table .tr.total .td.value{
  font-weight:800; text-align:right;
}

/* responsivo suave */
@media (max-width: 1200px){
  .finance-payroll .table .thead,
  .finance-payroll .table .tr{
    grid-template-columns: 1fr 1fr .6fr .6fr .6fr .6fr .8fr;
  }
}
@media (max-width: 992px){
  .finance-payroll .table .thead,
  .finance-payroll .table .tr{
    grid-template-columns: 1fr .9fr .6fr .6fr .6fr .6fr .7fr;
  }
}
