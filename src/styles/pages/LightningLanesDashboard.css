/* =========================================================
   Lightning Lane Dashboard — 11 colunas com vars separadas
   ========================================================= */

/* ===== Página / Vars ===== */
.lln-page{
  padding:16px 20px;
  background:#f8fafc;
  min-height:100dvh;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,system-ui,sans-serif;
  color:#0b1021;
  width:100%;
  overflow-x:hidden;

  /* Larguras “críticas” (ajuste aqui) */
  --client-fixed: 260px;  /* Client Name */
  --by-fixed:     140px;  /* Upload by   */

  /* Colunas das LINHAS */
  --row-client:  minmax(var(--client-fixed), var(--client-fixed));
  --row-date:    minmax(115px, 1.05fr);
  --row-type:    minmax(110px, 1.00fr);
  --row-method:  minmax(138px, 1.20fr);
  --row-last4:   minmax(70px,  0.70fr);
  --row-amount:  minmax(90px,  0.90fr);
  --row-obs:     minmax(170px, 1.35fr);
  --row-by:      minmax(var(--by-fixed), var(--by-fixed));
  --row-status:  minmax(100px, 0.95fr);
  --row-fin:     minmax(115px, 1.05fr);
  --row-actions: minmax(110px, 1.00fr);

  /* Colunas do CABEÇALHO (pode diferir se quiser) */
  --head-client:  var(--row-client);
  --head-date:    var(--row-date);
  --head-type:    var(--row-type);
  --head-method:  var(--row-method);
  --head-last4:   var(--row-last4);
  --head-amount:  var(--row-amount);
  --head-obs:     var(--row-obs);
  --head-by:      var(--row-by);
  --head-status:  var(--row-status);
  --head-fin:     var(--row-fin);
  --head-actions: var(--row-actions);

  /* Listas (11 col) */
  --cols-row-11:  var(--row-client) var(--row-date) var(--row-type) var(--row-method) var(--row-last4) var(--row-amount) var(--row-obs) var(--row-by) var(--row-status) var(--row-fin) var(--row-actions);
  --cols-head-11: var(--head-client) var(--head-date) var(--head-type) var(--head-method) var(--head-last4) var(--head-amount) var(--head-obs) var(--head-by) var(--head-status) var(--head-fin) var(--head-actions);

  /* Versões com coluna fantasma “sel” na frente (12 col) — 1ª = 0px */
  --sel: 0px;
  --cols-row-12:  minmax(var(--sel),var(--sel)) var(--cols-row-11);
  --cols-head-12: minmax(var(--sel),var(--sel)) var(--cols-head-11);
}
.lln-page, .lln-page * { box-sizing: border-box; }

/* ===== Título ===== */
.lln-page .page-title{
  display:flex; align-items:center; justify-content:space-between;
  background:#fff; border:1px solid #e5e7eb; border-radius:12px;
  padding:16px 18px; margin-bottom:20px;
  box-shadow:0 4px 6px rgba(0,0,0,.07);
}
.lln-page .page-title h1{
  font-size:28px; font-weight:800; color:#111827; margin:0; text-align:left; letter-spacing:-.025em;
}
.lln-page .page-meta{ display:flex; gap:8px; align-items:center; }
.lln-page .meta-pill{
  display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px;
  border:1px solid #e5e7eb; background:#fff; font-weight:600; font-size:12px; color:#374151;
}

/* ===== Filtros ===== */
.lln-filters{
  background:#fff; border:1px solid #e2e8f0; border-radius:16px; padding:20px 24px; margin-bottom:16px;
  display:flex; align-items:flex-end; justify-content:space-between; gap:16px; flex-wrap:wrap;
  box-shadow:0 2px 4px rgba(0,0,0,.04);
}
.lln-filters .filters-left{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr));
  gap:16px; flex:1; align-items:end;
}
.lln-filters .filter-field{ display:flex; flex-direction:column; gap:8px; min-width:180px; }
.lln-filters .filter-field label{
  font-size:13px; font-weight:700; color:#374151; text-transform:uppercase; letter-spacing:.5px; text-align:center; margin-bottom:4px;
}
.lln-filters .filter-input{
  padding:12px 16px; border:2px solid #e5e7eb; border-radius:12px; background:#fff; font-size:14px; font-weight:500;
  text-align:center; transition:.2s; min-height:44px;
}
.lln-filters .filter-input:focus{ outline:none; border-color:#3b82f6; box-shadow:0 0 0 4px rgba(59,130,246,.12); text-align:left; }
.lln-filters .filters-right{ display:flex; align-items:center; gap:12px; flex-shrink:0; }
.lln-filters .filters-caption{ color:#64748b; font-weight:600; display:flex; align-items:center; gap:6px; font-size:14px; }

/* ===== Cabeçalho ===== */
.lln-thead{
  position:sticky; top:0; z-index:10;
  display:grid;
  grid-template-columns: var(--cols-head-11) !important; /* ganha de CSS antigos */
  gap:9px; padding:12px 40px;
  background:#ffffff; border-bottom:2px solid #e2e8f0;
  font-size:10.5px; font-weight:900; color:#1a4685; text-transform:uppercase; letter-spacing:.4px; align-items:center;
}
.lln-thead:has(.th.sel){ grid-template-columns: var(--cols-head-12) !important; } /* se existir “sel” */
.lln-thead .th{
  min-width:0;
  display:flex; align-items:center; justify-content:center; text-align:center; height:34px; padding:4px 6px;
  border-radius:6px; background:rgba(255,255,255,.8); border:1px solid rgba(226,232,240,.6);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; line-height:1.1;
}
.lln-thead .th.client,
.lln-thead .th.by,
.lln-thead .th.obs{ justify-content:flex-start; }
.lln-thead .th.amount{ justify-content:flex-end; }
.lln-thead .th.actions{ justify-content:flex-end; }
.lln-thead .th.sel{ display:none !important; } /* oculta a fantasma quando vier */

/* ===== Corpo ===== */
.lln-tbody{
  max-height:calc(100vh - 350px);
  overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch;
}
.lln-tbody::-webkit-scrollbar{ width:8px; }
.lln-tbody::-webkit-scrollbar-track{ background:#f1f5f9; border-radius:4px; }
.lln-tbody::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:4px; }

/* ===== Linhas ===== */
.lln-row{
  margin:6px 12px; border:1px solid #e5e7eb; border-radius:10px; background:#fff; transition:.2s;
}
.lln-row:hover{ box-shadow:0 3px 8px rgba(0,0,0,.08); border-color:#cbd5e1; transform:translateY(-.5px); }
.lln-row.selected{ border-color:#34d399; background:#f0fdf4; box-shadow:0 0 0 2px #bbf7d0 inset; }

.row-main{
  display:grid;
  grid-template-columns: var(--cols-row-11) !important; /* ganha de CSS antigos */
  align-items:center; gap:8px; padding:10px 18px; min-height:54px;
}
.row-main:has(.sel){ grid-template-columns: var(--cols-row-12) !important; } /* se existir “sel” */

/* ===== Células / Pills ===== */
.cell{
  min-width:0;
  display:flex; align-items:center; justify-content:center; text-align:center;
  padding:2px 4px; min-height:40px; overflow:hidden; word-wrap:break-word; hyphens:auto;
}
.cell.client{ justify-content:flex-start; text-align:left; }
.cell.amount{ justify-content:flex-end; text-align:right; font-variant-numeric:tabular-nums; font-weight:800; color:#059669; }
.cell.obs{ justify-content:flex-start; text-align:left; line-height:1.3; font-size:12px; }
.cell.by{ justify-content:flex-start; text-align:left; font-weight:600; color:#374151; font-size:12px; }
.cell.actions{ justify-content:flex-end; padding:2px; }
.row-main .sel{ display:none !important; } /* esconde a fantasma se vier */

.pill{
  width:100%; height:40px; display:flex; align-items:center; justify-content:center; gap:6px;
  border:1px solid #e5e7eb; border-radius:10px; padding:6px 8px; background:#fff;
  font-weight:600; color:#0b1021; text-align:center; font-size:12px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.pill.client{ justify-content:flex-start; text-align:left; font-weight:700; }
.pill .muted{ opacity:.6; flex-shrink:0; }
.pill .strong{ font-weight:800; overflow:hidden; text-overflow:ellipsis; }

/* ===== Botões/Badges ===== */
.lln-page .cell.finance .btn{ width:100%; justify-content:center; }
.lln-page .cell.actions .btn{ justify-content:center; }
.lln-page .lln-pager .btn{ min-width:90px; }
.lln-page .cell.status .badge{
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  width:100%; height:36px; font-weight:800; text-transform:uppercase;
}

/* ===== Expand / Receipts ===== */
.row-expand-toggle{ padding:0 18px 6px; display:flex; }
.expand-btn{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:8px;
  border:1px dashed #e2e8f0; background:#fff; font-weight:700; color:#64748b; cursor:pointer; font-size:12px;
}
.expand-btn:hover{ background:#f9fafb; border-color:#cbd5e1; }
.expand{ max-height:0; overflow:hidden; transition:max-height .3s ease; }
.expand.show{ max-height:400px; }

.receipts{ display:flex; gap:10px; padding:12px 18px; flex-wrap:wrap; }
.thumb{ position:relative; width:70px; height:70px; border-radius:8px; overflow:hidden; border:2px solid #e5e7eb; background:#f8fafc; }
.thumb img{ width:100%; height:100%; object-fit:cover; cursor:pointer; transition:transform .2s; }
.thumb img:hover{ transform:scale(1.05); }
.thumb .icon{
  position:absolute; top:2px; right:2px; width:18px; height:18px; border-radius:50%; background:#dc2626; color:#fff;
  display:flex; align-items:center; justify-content:center; cursor:pointer; opacity:0; transition:opacity .2s;
}
.thumb:hover .icon{ opacity:1; }

/* ===== Paginação / Empty ===== */
.lln-pager{
  display:flex; align-items:center; justify-content:center; gap:16px; padding:18px 24px;
  background:#f8fafc; border-top:1px solid #e2e8f0;
}
.lln-pager .pageinfo{ font-weight:600; color:#475569; text-align:center; font-size:14px; }
.lln-empty{ display:flex; align-items:center; justify-content:center; gap:8px; padding:40px 20px; color:#64748b; font-weight:600; text-align:center; }
.lln-empty.small{ padding:20px; font-size:14px; }

/* ===== Breakpoints ===== */
@media (min-width:1600px){
  .lln-page{
    --client-fixed: 280px;
    --row-obs:     minmax(210px, 1.6fr);
    --row-method:  minmax(150px, 1.3fr);
    --by-fixed:    150px;
  }
}
@media (max-width:1199px){
  .lln-filters .filters-left{ grid-template-columns:repeat(2,1fr); }
  .pill{ height:38px; font-size:11px; }
  .lln-page .cell.status .badge{ height:34px; }
}
@media (max-width:768px){
  .lln-page{ padding:12px 16px; }
  .lln-filters{ flex-direction:column; align-items:stretch; padding:16px; }
  .lln-filters .filters-left{ grid-template-columns:1fr; }
  .lln-page .page-title{ flex-direction:column; gap:12px; padding:16px; }
  .lln-page .page-meta{ position:static !important; }
}
